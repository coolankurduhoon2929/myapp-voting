<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
  <link rel="shortcut icon" href="/photos/download1.png">
  <title>Online Voting | Home</title>
  <style type="text/css">
  html{
    height: 100%;
  }
  body{
    <!-- background: url(https://dz2cdn3.dzone.com/storage/article-thumb/7923454-thumb.jpg);-->
    background-size:cover;
    background-position: center;
    color: purple;
    font-family: 'Lato', sans-serif;
    /* background: #FF5F6D;  /* fallback for old browsers */
/* background: -webkit-linear-gradient(to right, #FFC371, #FF5F6D);  /* Chrome 10-25, Safari 5.1-6 */ */
/* background: linear-gradient(to right, #FFC371, #FF5F6D); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */ */ */
background: #00c3ff;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #ffff1c, #00c3ff);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #ffff1c, #00c3ff); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
<!-- frer -->
  }
  h1{
    letter-spacing:0.2rem;
    text-transform: uppercase;
    font-weight: bold;
  }
  h3{
    letter-spacing:0.1rem;
    text-transform: uppercase;
  }
  h4{
    letter-spacing:0.1rem;
    text-transform: uppercase;
  }
    #content{
      text-align: center;
      padding-top: 10%;
      margin: 0 auto;
      max-width: 450px;
      padding-top: 80px;
      padding-bottom: 40px;
    }

  .navbar-inverse{
    background-color: purple;
  }
  .active{
    background: darkslategrey;
  }
  .row{
    margin-top: 10px;
  }
  form p{
    color:red;
    text-align: left;
    padding-left: 10px;
  }
  </style>
</head>
<body>

  <nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="navbar-brand" href="#">  <i class="far fa-hand-peace"></i> Online Voting</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li ><a href="/">Home</a></li>
      <li><a href="#">About</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li><a href="#" class="active">Signup <i class="fas fa-user-plus"></i></a></li>
      <li><a href="/signin" >Login <i class="fas fa-user"></i></a></li>
    </ul>
  </div>
  </div>
  </nav>

  <div id="content">
    <form action="/onsignupdata" method="post">
      <div class="row">
        <h1>Sign Up Form</h1>
      </div>
      <div class="row">
        <div class="col-xs-12" style="color:green;">* Please fill all the fields</div>
      </div>
      <div class="row">
        <div class="col-xs-6"><input type="text" id="firstname" autocomplete="off" name="firstnameProvided" class="form-control" placeholder="First Name" required autofocus></div>
        <div class="col-xs-6"><input type="text" id="lastname" autocomplete="off" name="lastnameProvided" class="form-control" placeholder="Last Name" required></div>
        <div class="col-xs-6" id="error1"></div>
        <div class="col-xs-6"id="error2"></div>
      </div>
      <div class="row">
        <div class="col-xs-12"><input id="username" autocomplete="off" type="text" name="usernameProvided" class="form-control" placeholder="Username" required></div>
        <div class="col-xs-12" id="error3"></div>
      </div>
      <div class="row">
        <div class="col-xs-12"><input   id="password" type="password" autocomplete="off" name="passwordProvided" class="form-control" placeholder="Password" required></div>
        <div class="col-xs-12" id="error4"></div>
      </div>
      <div class="row">
        <div class="col-xs-12"><input id="password1" type="password" autocomplete="off" name="passwordProvided1" class="form-control" placeholder="Confirm Password" required></div>
        <div class="col-xs-12" id="error5"></div>
      </div>
      <div class="row">
        <div class="col-xs-12"><select id="gender" class="form-control" name="genderProvided" placeholder="Gender" required>
          <option>Male</option>
          <option>Female</option>
          <option>Other</option>
      </select>
    </div>
      </div>
    <div class="row">
        <div class="col-xs-12"><input id="age" type="number" autocomplete="off" name="ageProvided" class="form-control" placeholder="Age" required></div>
        <div class="col-xs-12" id="error6"></div>
    </div>
    <div class="row">
        <div class="col-xs-12"><button class="btn btn-lg btn-primary btn-block" type="submit" style="margin-top:20px;">Sign Up</button></div>
    </div>
    </form>
  </div>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script>
  $('form button').on("click",function(e){
    e.preventDefault();
    for(var i=0;i<6;i++){
      $('#error'+(i+1)).html("");
    }
    var firstname=$('#firstname').val();
    var lastname=$('#lastname').val();
    var username=$('#username').val();
    var password=$('#password').val();
    var password1=$('#password1').val();
    var gender=$('#gender').val();
    var age=$('#age').val();
    var anyerror=0;
    if(firstname.trim()===""){
      $('#error1').html("<p>* First Name can't be empty</p>");
      anyerror=1;
    }
    if(lastname.trim()===""){
      $('#error2').html("<p>* Last Name can't be empty</p>");
      anyerror=1;
    }
    if(username.trim().length<4){
      $('#error3').html("<p>* Username should be atleast 4 characters long</p>");
      anyerror=1;
    }
    if(username.trim()===""){
      $('#error3').html("<p>* Username can't be empty</p>");
      anyerror=1;
    }
    else if(username.trim()===""){
      $('#error3').html("<p>* Username can't be empty</p>");
      anyerror=1;
    }
    if(password.length<8){
      $('#error4').html("<p>* Password should be atleast 8 character's long</p>");
      anyerror=1;
    }
    if(password.trim()===""){
      $('#error4').html("<p>* Password can't empty</p>");
      anyerror=1;
    }
    if(password!=password1){
      $('#error5').html("<p>* Password do not match</p>");
      anyerror=1;
    }
    if(age.trim()===""){
      $('#error6').html("<p>* Age can't be empty</p>");
      anyerror=1;
    }
    if(parseInt(age)<10 || parseInt(age)>110){
      $('#error6').html("<p>* Enter a valid age</p>");
      anyerror=1;
    }
    $.get("/checkvalidusername",{username:username.trim()},function(data){
      if(data.valid===0){
        $('#error3').html("<p>* Username already taken</p>");
        anyerror=1;
      }
      else{
        if(!anyerror){
        $.post("onsignupdata",{
          firstnameProvided:firstname,
          lastnameProvided:lastname,
          usernameProvided:username,
          passwordProvided:password,
          genderProvided:gender,
          ageProvided:age
        }).done(function(){
          location.href="/signupsuccessful";
        });
      }
      }
    });
  });
  </script>

</body>
</html>
